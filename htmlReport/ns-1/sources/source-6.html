


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > student</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.example</a>
</div>

<h1>Coverage Summary for Class: student (org.example)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">student</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/92)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/172)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.example;
&nbsp;import de.vandermeer.asciitable.AsciiTable;
&nbsp;import de.vandermeer.asciitable.CWC_LongestWord;
&nbsp;import de.vandermeer.asciithemes.a7.A7_Grids;
&nbsp;
&nbsp;import java.sql.*;
&nbsp;import java.io.*;
&nbsp;import java.util.*;
&nbsp;import de.vandermeer.asciitable.*;
&nbsp;import de.vandermeer.asciithemes.a7.*;
&nbsp;public class student {
&nbsp;
&nbsp;    private String studentID;
<b class="nc">&nbsp;    public student(String studentID) {</b>
<b class="nc">&nbsp;        this.studentID = studentID;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public static String studentLogin(Connection connection) throws SQLException {
<b class="nc">&nbsp;        Scanner scanner = new Scanner(System.in);</b>
<b class="nc">&nbsp;        int studlog=-1;</b>
<b class="nc">&nbsp;        System.out.println(&quot;Welcome Student! Enter your student ID or press q to go back to select role screen: &quot;);</b>
&nbsp;        do {
<b class="nc">&nbsp;            String mail = scanner.next();</b>
<b class="nc">&nbsp;            if(mail.equals(&quot;q&quot;)){</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            System.out.print(&quot;Your Password: &quot;);</b>
<b class="nc">&nbsp;            String password = scanner.next();</b>
&nbsp;
<b class="nc">&nbsp;            String sql = &quot;SELECT * FROM students WHERE studentid = ? AND password = ?&quot;;</b>
<b class="nc">&nbsp;            PreparedStatement pstmt = connection.prepareStatement(sql);</b>
<b class="nc">&nbsp;            pstmt.setString(1, mail);</b>
<b class="nc">&nbsp;            pstmt.setString(2, password);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;            ResultSet rs = pstmt.executeQuery();</b>
&nbsp;
<b class="nc">&nbsp;            if (rs.next()) {</b>
<b class="nc">&nbsp;                String name = rs.getString(&quot;studentname&quot;);</b>
<b class="nc">&nbsp;                String contactNumber = rs.getString(&quot;contactno&quot;);</b>
<b class="nc">&nbsp;                System.out.println(&quot;Login successful! Welcome &quot; + name + &quot;!&quot;);</b>
<b class="nc">&nbsp;                studlog=0;</b>
<b class="nc">&nbsp;                return rs.getString(&quot;studentid&quot;);</b>
&nbsp;
&nbsp;            } else {
&nbsp;
<b class="nc">&nbsp;                System.out.println(&quot;Invalid email or password! Enter your id again or enter q to go back to role screen&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            rs.close();</b>
<b class="nc">&nbsp;            pstmt.close();</b>
<b class="nc">&nbsp;        }while(studlog!=0);</b>
<b class="nc">&nbsp;        return &quot;q&quot;;</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    public void viewGrades(Connection connection, Scanner scanner) throws SQLException {
<b class="nc">&nbsp;        Map&lt;String, Double&gt; gradeToPoint = new HashMap&lt;&gt;();</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;A&quot;, 10.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;A-&quot;, 9.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;B&quot;, 8.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;B-&quot;, 7.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;C&quot;, 6.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;C-&quot;, 5.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;D&quot;, 4.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;E&quot;, 2.0);</b>
<b class="nc">&nbsp;        gradeToPoint.put(&quot;F&quot;, 0.0);</b>
&nbsp;
<b class="nc">&nbsp;        AsciiTable at = new AsciiTable();</b>
<b class="nc">&nbsp;        at.getContext().setGrid(A7_Grids.minusBarPlusEquals());</b>
&nbsp;
<b class="nc">&nbsp;        at.addRule();</b>
<b class="nc">&nbsp;        at.addRow(&quot;Course ID&quot;, &quot;Academic Session&quot;, &quot;Grade&quot;, &quot;Type&quot;);</b>
<b class="nc">&nbsp;        at.addRule();</b>
<b class="nc">&nbsp;        String query = &quot;SELECT * FROM coursestaken WHERE studentid = ?&quot;;</b>
<b class="nc">&nbsp;        PreparedStatement pstmt = connection.prepareStatement(query);</b>
<b class="nc">&nbsp;        pstmt.setString(1,studentID);</b>
<b class="nc">&nbsp;        ResultSet rs = pstmt.executeQuery();</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        while (rs.next()) {</b>
<b class="nc">&nbsp;            String grade = rs.getString(&quot;grade&quot;);</b>
<b class="nc">&nbsp;            if (grade == null) {</b>
<b class="nc">&nbsp;                grade = &quot;&quot;;  // replace null with an empty string</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            at.addRow(rs.getString(&quot;courseid&quot;),</b>
<b class="nc">&nbsp;                    rs.getString(&quot;periodtaken&quot;),</b>
&nbsp;                    grade,
<b class="nc">&nbsp;                    rs.getString(&quot;type&quot;));</b>
<b class="nc">&nbsp;            at.addRule();</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        at.setPaddingLeftRight(1);</b>
<b class="nc">&nbsp;        at.getRenderer().setCWC(new CWC_LongestWord());</b>
<b class="nc">&nbsp;        System.out.println(at.render());</b>
<b class="nc">&nbsp;        pstmt.close();</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        int semsPassed =Utilities.semesterDifference(studentID.substring(0,4)+&quot;W&quot; ,Utilities.yearTermFinder(connection));</b>
<b class="nc">&nbsp;        double credsEarned=0;</b>
<b class="nc">&nbsp;        double cumilativePoints=0;</b>
&nbsp;
<b class="nc">&nbsp;        if(semsPassed&gt;0){</b>
<b class="nc">&nbsp;            for(int i =0; i&lt;semsPassed; i++){</b>
&nbsp;
<b class="nc">&nbsp;                double credsReg=0;</b>
<b class="nc">&nbsp;                double pointsSecured=0;</b>
&nbsp;
<b class="nc">&nbsp;                String baseYear  = studentID.substring(0,4);</b>
<b class="nc">&nbsp;                int intBaseYear = Integer.parseInt(baseYear);</b>
<b class="nc">&nbsp;                int intCurrentYear = intBaseYear+ (semsPassed/2);</b>
<b class="nc">&nbsp;                String currentYearTerm =&quot;&quot;;</b>
&nbsp;
<b class="nc">&nbsp;                if(i%2==1){</b>
<b class="nc">&nbsp;                    currentYearTerm = intCurrentYear+ &quot;S&quot;;</b>
&nbsp;                }
&nbsp;                else{
<b class="nc">&nbsp;                    currentYearTerm = intCurrentYear+ &quot;W&quot;;</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                PreparedStatement pstmt3 = connection.prepareStatement(&quot;select * from coursestaken where studentid=? and periodtaken=?&quot;);</b>
<b class="nc">&nbsp;                pstmt3.setString(1,studentID);</b>
<b class="nc">&nbsp;                pstmt3.setString(2,currentYearTerm);</b>
<b class="nc">&nbsp;                ResultSet rs3 = pstmt3.executeQuery();</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;                while(rs3.next()){</b>
<b class="nc">&nbsp;                    String courseID = rs3.getString(&quot;courseid&quot;);</b>
<b class="nc">&nbsp;                    String grade = rs3.getString(&quot;grade&quot;);</b>
&nbsp;                    double creds;
<b class="nc">&nbsp;                    PreparedStatement getCred = connection.prepareStatement(&quot;select * from coursecatalog where courseid=?&quot;);</b>
<b class="nc">&nbsp;                    getCred.setString(1,courseID);</b>
<b class="nc">&nbsp;                    ResultSet credRes = getCred.executeQuery();</b>
<b class="nc">&nbsp;                    if(credRes.next()){</b>
<b class="nc">&nbsp;                        creds = credRes.getDouble(&quot;creds&quot;);</b>
<b class="nc">&nbsp;                        credsReg = credsReg + creds;</b>
<b class="nc">&nbsp;                        pointsSecured = pointsSecured + (creds*gradeToPoint.getOrDefault(grade, 0.0));</b>
<b class="nc">&nbsp;                        if(gradeToPoint.getOrDefault(grade, 0.0)&gt;2.0){</b>
<b class="nc">&nbsp;                            credsEarned = credsEarned+ creds;</b>
<b class="nc">&nbsp;                            cumilativePoints = cumilativePoints + (creds*gradeToPoint.getOrDefault(grade, 0.0));</b>
&nbsp;                        }
&nbsp;                    }
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;                System.out.println(&quot;Semester &quot;+(i+1)+ &quot;: &quot;+ pointsSecured/credsReg);</b>
&nbsp;            }
<b class="nc">&nbsp;            System.out.println(&quot;CGPA: &quot;+cumilativePoints/credsEarned);</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;    public void sgpaCalc(String studentid, int sempassed, Connection connection) throws SQLException {
&nbsp;
&nbsp;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void changeInfo(Connection connection, Scanner scanner) throws SQLException {
<b class="nc">&nbsp;        int choice = -1;</b>
&nbsp;
&nbsp;        do{
<b class="nc">&nbsp;            System.out.println(&quot;Select 1. To change contact number 2. To change password. 3. To go back dashboard&quot;);</b>
<b class="nc">&nbsp;            choice = scanner.nextInt();</b>
<b class="nc">&nbsp;            if(choice ==1) {</b>
&nbsp;                String newPassword;
<b class="nc">&nbsp;                System.out.println(&quot;Enter the new contact number: &quot;);</b>
<b class="nc">&nbsp;                newPassword = scanner.next();</b>
<b class="nc">&nbsp;                System.out.println(&quot;ok&quot;);</b>
<b class="nc">&nbsp;                String query = &quot;UPDATE students SET contactno = ? WHERE studentid = ?&quot;;</b>
<b class="nc">&nbsp;                PreparedStatement pstmt = connection.prepareStatement(query);</b>
<b class="nc">&nbsp;                pstmt.setString(1, newPassword);</b>
<b class="nc">&nbsp;                pstmt.setString(2, studentID);</b>
<b class="nc">&nbsp;                pstmt.executeUpdate();</b>
<b class="nc">&nbsp;                pstmt.close();</b>
&nbsp;
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            else if(choice ==2) {</b>
&nbsp;                String newPassword;
<b class="nc">&nbsp;                System.out.println(&quot;Choose your new password: &quot;);</b>
<b class="nc">&nbsp;                newPassword = scanner.next();</b>
<b class="nc">&nbsp;                String query = &quot;UPDATE students SET password = ? WHERE studentid = ?&quot;;</b>
<b class="nc">&nbsp;                PreparedStatement pstmt = connection.prepareStatement(query);</b>
<b class="nc">&nbsp;                pstmt.setString(1, newPassword);</b>
<b class="nc">&nbsp;                pstmt.setString(2, studentID);</b>
<b class="nc">&nbsp;                pstmt.executeUpdate();</b>
<b class="nc">&nbsp;                pstmt.close();</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            else if(choice == 3){</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;            else {System.out.println(&quot;Invalid Input: &quot;);}</b>
<b class="nc">&nbsp;        }while(choice !=3);</b>
&nbsp;
&nbsp;
&nbsp;
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void enrollHaha(Connection connection, Scanner scanner) throws SQLException {
<b class="nc">&nbsp;        int choice = -1;</b>
&nbsp;
&nbsp;        do{
<b class="nc">&nbsp;            System.out.println(&quot;Select 1. To view the Offered Courses for this semester 2. To credit a course 3. To go back dashboard&quot;);</b>
<b class="nc">&nbsp;            choice = scanner.nextInt();</b>
<b class="nc">&nbsp;            if(choice ==1) {</b>
<b class="nc">&nbsp;                String query = &quot;SELECT * from coursesoffered where periodoffered = ?&quot;;</b>
<b class="nc">&nbsp;                PreparedStatement pstmt = connection.prepareStatement(query);</b>
<b class="nc">&nbsp;                pstmt.setString(1,Utilities.yearTermFinder(connection));</b>
<b class="nc">&nbsp;                ResultSet rs = pstmt.executeQuery();</b>
&nbsp;
<b class="nc">&nbsp;                AsciiTable at = new AsciiTable();</b>
<b class="nc">&nbsp;                at.getContext().setGrid(A7_Grids.minusBarPlusEquals());</b>
&nbsp;
<b class="nc">&nbsp;                at.addRule();</b>
<b class="nc">&nbsp;                at.addRow(&quot;Course ID&quot;, &quot;Instructor ID&quot;, &quot;CGPA cutoff&quot;);</b>
<b class="nc">&nbsp;                at.addRule();</b>
&nbsp;
<b class="nc">&nbsp;                while (rs.next()) {</b>
<b class="nc">&nbsp;                    at.addRow(rs.getString(&quot;courseid&quot;),</b>
<b class="nc">&nbsp;                            rs.getString(&quot;instructorid&quot;),</b>
<b class="nc">&nbsp;                            rs.getInt(&quot;minCGPA&quot;));</b>
<b class="nc">&nbsp;                    at.addRule();</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                at.setPaddingLeftRight(1);</b>
<b class="nc">&nbsp;                at.getRenderer().setCWC(new CWC_LongestWord());</b>
<b class="nc">&nbsp;                System.out.println(at.render());</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            else if(choice ==2) {</b>
&nbsp;
&nbsp;                String cCode;
&nbsp;                while(1==1){
<b class="nc">&nbsp;                    System.out.println(&quot;Enter the course code or enter q to return to dashboard: &quot;);</b>
<b class="nc">&nbsp;                    cCode = scanner.next();</b>
<b class="nc">&nbsp;                    if(cCode.equals(&quot;q&quot;)){break;}</b>
&nbsp;
<b class="nc">&nbsp;                    PreparedStatement pstmt = connection.prepareStatement(&quot;Select * from coursesoffered where courseid =? and periodOffered=?&quot;);</b>
<b class="nc">&nbsp;                    pstmt.setString(1,cCode);</b>
<b class="nc">&nbsp;                    pstmt.setString(2,Utilities.yearTermFinder(connection));</b>
<b class="nc">&nbsp;                    ResultSet rs = pstmt.executeQuery();</b>
<b class="nc">&nbsp;                    if(!rs.next()){</b>
<b class="nc">&nbsp;                        System.out.println(&quot;Not valid for this semester! Try again.&quot;);</b>
<b class="nc">&nbsp;                        continue;</b>
&nbsp;                    }
&nbsp;                    else{
<b class="nc">&nbsp;                        pstmt = connection.prepareStatement(&quot;Insert into coursesapproval (courseid,instructorid,studentid) values (?,?,?)&quot;);</b>
<b class="nc">&nbsp;                        pstmt.setString(1,cCode);</b>
<b class="nc">&nbsp;                        pstmt.setString(2,rs.getString(&quot;instructorid&quot;));</b>
<b class="nc">&nbsp;                        pstmt.setString(3,studentID);</b>
<b class="nc">&nbsp;                        pstmt.execute();</b>
<b class="nc">&nbsp;                        System.out.println(&quot;Request for credit has been sent.&quot;);</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    pstmt.close();</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;
&nbsp;                }
<b class="nc">&nbsp;                if(cCode.equals(&quot;q&quot;)){break;}</b>
&nbsp;
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            else if(choice == 3){</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            else {System.out.println(&quot;Invalid Input: &quot;);}</b>
<b class="nc">&nbsp;        }while(choice !=3);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-03-07 22:23</div>
</div>
</body>
</html>
